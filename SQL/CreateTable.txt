CREATE SCHEMA IF NOT EXISTS `comp7640`
    DEFAULT CHARACTER SET utf8mb4;

USE comp7640;

CREATE TABLE IF NOT EXISTS Vendor (
    VendorID INT AUTO_INCREMENT PRIMARY KEY,
    BusinessName VARCHAR(255) NOT NULL,
    CustomerFeedbackScore DECIMAL(3,0),
    GeographicalPresence VARCHAR(255) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

CREATE TABLE IF NOT EXISTS Inventory_Product (
    ProductID INT AUTO_INCREMENT PRIMARY KEY,
    VendorID INT NOT NULL,
    Name VARCHAR(255) NOT NULL,
    Price DECIMAL(10,2) NOT NULL,
    Tag1 VARCHAR(255),
    Tag2 VARCHAR(255),
    Tag3 VARCHAR(255),
    FOREIGN KEY (VendorID) REFERENCES Vendor(VendorID)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

CREATE TABLE IF NOT EXISTS Customer (
    CustomerID INT AUTO_INCREMENT PRIMARY KEY,
    ContactNumber VARCHAR(255) NOT NULL,
    ShippingDetails TEXT NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

CREATE TABLE IF NOT EXISTS Place_Order (
    OrderID INT AUTO_INCREMENT PRIMARY KEY,
    ProductID INT NOT NULL,
    CustomerID INT NOT NULL,
    OrderDate DATE NOT NULL,
    Quantity INT NOT NULL,
    OrderStatus VARCHAR(255) DEFAULT 'Pending',
    FOREIGN KEY (CustomerID) REFERENCES Customer(CustomerID),
    FOREIGN KEY (ProductID) REFERENCES Inventory_Product(ProductID)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

CREATE TABLE IF NOT EXISTS Transaction (
    TransactionID INT AUTO_INCREMENT PRIMARY KEY,
    OrderID INT NOT NULL,
    ShippedDate DATE,
    ArrivalDate DATE,
    FOREIGN KEY (OrderID) REFERENCES `Place_Order`(OrderID)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;